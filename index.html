<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Happy Birthday ðŸŽ‚</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      margin: 0;
      height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      overflow-x: hidden;
      font-family: 'Poppins', sans-serif;
      text-align: center;
      color: #fff;
      background: #000;
      padding: 20px;
      box-sizing: border-box;
    }

    body::before {
      content: "";
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: radial-gradient(ellipse at bottom, #0d1b2a 0%, #000 100%);
      z-index: -4;
    }

    /* Aurora Layer */
    .aurora { position: fixed; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; z-index: -2; pointer-events: none; }
    .aurora span { position: absolute; top: -20%; width: 20%; height: 200%; background: linear-gradient(to bottom, rgba(255,255,255,0.25), rgba(255,255,255,0)); transform: skewX(-15deg) rotate(10deg); filter: blur(30px); animation: auroraFlow 12s ease-in-out infinite alternate; }
    .aurora span:nth-child(1) { left: 10%; animation-delay: 0s; }
    .aurora span:nth-child(2) { left: 30%; animation-delay: 4s; }
    .aurora span:nth-child(3) { left: 55%; animation-delay: 8s; }
    .aurora span:nth-child(4) { left: 75%; animation-delay: 2s; }
    @keyframes auroraFlow { 0% { transform: skewX(-15deg) rotate(10deg) translateY(0); opacity: 0.5; } 50% { transform: skewX(-10deg) rotate(5deg) translateY(-5%); opacity: 0.8; } 100% { transform: skewX(-20deg) rotate(15deg) translateY(5%); opacity: 0.4; } }

    /* Moon */
    .moon { position: fixed; top: 60px; right: 60px; width: 100px; height: 100px; background: radial-gradient(circle at 30% 30%, #fff, #d9d9d9 70%); border-radius: 50%; box-shadow: 0 0 60px rgba(255,255,255,0.7), inset -10px -10px 30px rgba(0,0,0,0.3); z-index: -1; }
    .moon::before { content: ""; position: absolute; top: 20px; left: 25px; width: 15px; height: 15px; background: rgba(200,200,200,0.6); border-radius: 50%; box-shadow: 20px 10px 0 rgba(220,220,220,0.5), -15px 25px 0 rgba(190,190,190,0.4), 10px 35px 0 rgba(210,210,210,0.6); }

    /* Stars */
    .star { position: absolute; width: 2px; height: 2px; background: white; border-radius: 50%; animation: twinkle 2s infinite ease-in-out; z-index: -3; }
    @keyframes twinkle { 0%, 100% { opacity: 0.2; transform: scale(0.8); } 50% { opacity: 1; transform: scale(1.3); } }

    /* Shooting Stars */
    .shooting-star { position: fixed; width: 2px; height: 80px; background: linear-gradient(white, transparent); opacity: 0; transform: rotate(45deg); animation: shoot 3s linear forwards; z-index: -1; }
    @keyframes shoot { 0% { opacity: 1; transform: translate(0,0) rotate(45deg); } 100% { opacity: 0; transform: translate(-300px,300px) rotate(45deg); } }

    /* Text Effects */
    .graffiti-text { font-size: clamp(1.8rem, 6vw, 3.5rem); margin: 0 0 15px; text-transform: uppercase; letter-spacing: 2px; text-shadow: 0 0 5px #ff0057, 0 0 15px #00f7ff, 0 0 25px #ff0057; animation: graffitiGlow 4s ease-in-out infinite alternate; }
    @keyframes graffitiGlow { 0% { transform: scale(1); } 50% { transform: scale(1.05); } 100% { transform: scale(1); } }

    .smooth-text { font-size: clamp(1rem, 4vw, 1.4rem); color: #ffecec; margin: 10px 0 20px; opacity: 0; transform: translateY(20px); animation: fadeInUp 2s ease-out forwards; max-width: 90%; }
    @keyframes fadeInUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }

    /* Buttons */
    button { margin: 10px 5px; padding: 12px 20px; font-size: clamp(0.9rem, 3.5vw, 1.2rem); border: none; border-radius: 25px; background: #ff6b81; color: white; cursor: pointer; transition: all 0.3s ease; z-index: 10; }
    button:hover { transform: scale(1.08); background: #ff4757; }

    /* Secret Note */
    #secretNote { margin-top: 15px; font-size: clamp(1rem, 3.5vw, 1.2rem); display: none; max-width: 90%; line-height: 1.5; }

    /* Scratch Card */
    #scratchCard { margin: 25px auto 0; position: relative; width: min(90%, 300px); height: 120px; border-radius: 12px; overflow: hidden; background: radial-gradient(circle at top, #1a1a2e, #0f0f1e); box-shadow: 0 4px 10px rgba(0,0,0,0.4); z-index: 5; transition: box-shadow 0.5s ease, transform 0.5s ease; }
    #scratchCard.revealed { box-shadow: 0 0 25px #fffa, 0 0 50px #fff5; transform: scale(1.05); }
    #hiddenMsg { position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; padding: 10px; font-size: clamp(1rem, 3.5vw, 1.2rem); font-family: 'Dancing Script', cursive; z-index: 1; text-align: center; }
    #openText { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: clamp(1rem, 3.5vw, 1.1rem); color: #ffdde1; font-family: 'Dancing Script', cursive; z-index: 3; text-align: center; }
    canvas { position: absolute; top: 0; left: 0; z-index: 2; }

    /* Flower Button */
    .flower-btn { position: fixed; bottom: 20px; right: 20px; width: 55px; height: 55px; border-radius: 50%; background: #ff6b81; color: white; font-size: 1.8rem; display: flex; align-items: center; justify-content: center; cursor: pointer; box-shadow: 0 4px 10px rgba(0,0,0,0.4); transition: transform 0.3s; z-index: 20; }
    .flower-btn:hover { transform: scale(1.1); background: #ff4757; }

    /* Popup */
    .popup-overlay { display: none; opacity: 0; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); align-items: center; justify-content: center; z-index: 30; transition: opacity 0.4s ease; }
    .popup-overlay.show { display: flex; opacity: 1; }
    .popup-content { position: relative; max-width: 90%; max-height: 80%; background: #111; padding: 10px; border-radius: 10px; box-shadow: 0 0 20px rgba(255,255,255,0.4); animation: fadeIn 0.5s ease; text-align: center; }
    .popup-content img { max-width: 100%; max-height: 70vh; border-radius: 10px; }
    .close-btn { position: absolute; top: 8px; right: 12px; font-size: 1.5rem; background: none; border: none; color: white; cursor: pointer; }
    @keyframes fadeIn { from { transform: scale(0.9); opacity: 0; } to { transform: scale(1); opacity: 1; } }

    /* Popup Title */
    .popup-title {
      font-family: 'Dancing Script', cursive;
      font-size: 1.8rem;
      color: #ffdde1;
      text-align: center;
      margin-bottom: 12px;
      opacity: 0;
      text-shadow: 0 0 8px rgba(255, 182, 193, 0.8),
                   0 0 15px rgba(255, 105, 180, 0.6);
      animation: floatText 3s ease-in-out infinite, fadeInText 1s forwards;
    }

    /* Floating Animation */
    @keyframes floatText { 0% { transform: translateY(0); } 50% { transform: translateY(-8px); } 100% { transform: translateY(0); } }
    @keyframes fadeInText { from { opacity: 0; } to { opacity: 1; } }

    /* Confetti */
    @keyframes fall { to { transform: translateY(100vh) rotate(720deg); opacity: 0; } }
  </style>
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script&display=swap" rel="stylesheet">
</head>
<body>
  <div class="moon"></div>
  <div class="aurora"><span></span><span></span><span></span><span></span></div>

  <h1 class="graffiti-text">ðŸŽ‚ Happy Birthday, Akshita ðŸŽ‚</h1>
  <p class="smooth-text">I hope your day goes well filled with LOTS of gifts, love, happiness, and the best you deserve :) ðŸ’–</p>

  <button onclick="revealNote()">Open Message?</button>
  <button onclick="playSong()">ðŸŽ¶ Play Song ðŸŽ¶</button>
  <div id="secretNote">I miss you a lot, and Iâ€™m so sorry for my mistakes. I promise Iâ€™m trying to be better every day ðŸ’•</div>

  <div id="scratchCard">
    <div id="hiddenMsg">ðŸ’Œ Youâ€™ll always be my favourite person,I rly love you ;-; ðŸ’Œ</div>
    <div id="openText">âœ¨ Scratch Me âœ¨</div>
    <canvas></canvas>
  </div>

  <div class="flower-btn" onclick="openPopup()">ðŸŒ¸</div>

  <!-- Popup -->
  <div id="popup" class="popup-overlay">
    <div class="popup-content">
      <button class="close-btn" onclick="closePopup()">âœ–</button>
      <div class="popup-title">âœ¨ Prettiest Hooman :D âœ¨</div>
      <img src="https://placekitten.com/400/400" alt="Popup Image">
    </div>
  </div>

  <script>
    /* Stars generator */
    (() => { const starCount = 80; for (let i = 0; i < starCount; i++) { const star = document.createElement("div"); star.className = "star"; star.style.top = Math.random() * window.innerHeight + "px"; star.style.left = Math.random() * window.innerWidth + "px"; document.body.appendChild(star); } })();

    /* Shooting stars */
    function createShootingStar() { const star = document.createElement("div"); star.className = "shooting-star"; star.style.top = Math.random() * window.innerHeight / 2 + "px"; star.style.left = window.innerWidth - 100 + "px"; document.body.appendChild(star); setTimeout(() => star.remove(), 3000); }
    setInterval(createShootingStar, 5000);

    /* Confetti */
    function triggerConfetti() { for (let i = 0; i < 100; i++) { const confetti = document.createElement("div"); confetti.style.position = "fixed"; confetti.style.width = "8px"; confetti.style.height = "8px"; confetti.style.background = `hsl(${Math.random()*360},100%,50%)`; confetti.style.top = "-10px"; confetti.style.left = Math.random() * window.innerWidth + "px"; confetti.style.opacity = 0.9; confetti.style.borderRadius = "50%"; confetti.style.animation = `fall ${2 + Math.random() * 3}s linear forwards`; document.body.appendChild(confetti); setTimeout(() => confetti.remove(), 5000); } }

    function revealNote() { document.getElementById("secretNote").style.display = "block"; triggerConfetti(); }

    /* Music */
    const audio = new Audio("https://www.dropbox.com/scl/fi/sj5mgh3orewaxgj35horb/One-Direction-Night-Changes.mp3?rlkey=bhdy84exjfb72zidip32b6ck7&dl=1");
    audio.preload = "auto";
    function playSong() { audio.play().catch(() => alert("Tap again to start the song ðŸŽ¶")); }

    /* Scratch card */
    const canvas = document.querySelector("canvas"); const ctx = canvas.getContext("2d"); const scratchCard = document.getElementById("scratchCard");
    canvas.width = scratchCard.offsetWidth; canvas.height = scratchCard.offsetHeight; ctx.fillStyle = "#888"; ctx.fillRect(0, 0, canvas.width, canvas.height);
    let isDrawing = false;

    function getPos(e) { const rect = canvas.getBoundingClientRect(); const point = e.touches ? e.touches[0] : e; return { x: point.clientX - rect.left, y: point.clientY - rect.top }; }
    function scratch(e) { if (!isDrawing) return; const pos = getPos(e); ctx.globalCompositeOperation = "destination-out"; ctx.beginPath(); ctx.arc(pos.x, pos.y, 18, 0, Math.PI*2); ctx.fill(); document.getElementById("openText").style.display = "none"; checkScratchCompletion(); }
    ["mousedown", "touchstart"].forEach(evt => canvas.addEventListener(evt, e => { isDrawing = true; scratch(e); })); ["mouseup", "touchend"].forEach(evt => canvas.addEventListener(evt, () => isDrawing = false)); canvas.addEventListener("mousemove", scratch); canvas.addEventListener("touchmove", e => { scratch(e); e.preventDefault(); }, { passive: false });

    function checkScratchCompletion() { const pixels = ctx.getImageData(0, 0, canvas.width, canvas.height).data; let cleared = 0; for (let i = 3; i < pixels.length; i += 4) { if (pixels[i] === 0) cleared++; } const percent = cleared / (canvas.width * canvas.height) * 100; if (percent > 70) { scratchCard.classList.add("revealed"); } }

    /* Popup */
    function openPopup() { const popup = document.getElementById("popup"); popup.style.display = "flex"; setTimeout(() => popup.classList.add("show"), 10); }
    function closePopup() { const popup = document.getElementById("popup"); popup.classList.remove("show"); setTimeout(() => popup.style.display = "none", 400); }
  </script>
</body>
</html>
